<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Linux Sysadmin</title><link href="http://www.linuxsysadmin.tk/" rel="alternate"></link><link href="http://www.linuxsysadmin.tk/feeds/miscelanea.atom.xml" rel="self"></link><id>http://www.linuxsysadmin.tk/</id><updated>2016-07-25T08:00:00+02:00</updated><entry><title>Un escritorio con Archlinux</title><link href="http://www.linuxsysadmin.tk/2016/07/un-escritorio-con-archlinux.html" rel="alternate"></link><published>2016-07-25T08:00:00+02:00</published><author><name>Gerard</name></author><id>tag:www.linuxsysadmin.tk,2016-07-25:2016/07/un-escritorio-con-archlinux.html</id><summary type="html">&lt;p&gt;En &lt;a href="http://www.linuxsysadmin.tk/2016/04/un-escritorio-minimo-con-debian.html"&gt;otro articulo&lt;/a&gt; vimos como instalar &lt;strong&gt;Archlinux&lt;/strong&gt;. Como tantas otras distribuciones nos vale para servidor y como distribución de escritorio. Sin embargo, debido a su filosofía como &lt;em&gt;rolling release&lt;/em&gt;, puede asustarnos un poco como servidor; aunque tener un escritorio "a la última" es un caramelo que muy pocos podemos rechazar.&lt;/p&gt;
&lt;p&gt;Vamos a instalar un escritorio basado en &lt;strong&gt;XFCE&lt;/strong&gt;, que es bueno, bonito y barato. Me encanta personalmente porque no usa muchos recursos, responde rápido y tiene muchas herramientas de configuración, a diferencia de otros, por ejemplo &lt;strong&gt;LXDE&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Empezaremos instalando la capa gráfica. Esto se consigue mediante el paquete &lt;strong&gt;xorg&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# pacman -S xorg&lt;/span&gt;
...
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Alternativamente, podemos instalar solamente el servidor gráfico y los &lt;em&gt;drivers&lt;/em&gt; necesarios. Esto es especialmente importante en &lt;strong&gt;Archlinux&lt;/strong&gt; porque los paquetes se actualizan muy a menudo, y por lo tanto, tener paquetes que no vamos a usar solo incrementa el tiempo del &lt;em&gt;update&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# pacman -S xorg-server xf86-input-mouse xf86-input-keyboard xf86-input-synaptics xf86-video-vesa&lt;/span&gt;
resolviendo dependencias…
:: Existen &lt;span class="m"&gt;4&lt;/span&gt; proveedores disponibles para libgl:
:: Repositorio extra
   1&lt;span class="o"&gt;)&lt;/span&gt; mesa-libgl  2&lt;span class="o"&gt;)&lt;/span&gt; nvidia-304xx-libgl  3&lt;span class="o"&gt;)&lt;/span&gt; nvidia-340xx-libgl  4&lt;span class="o"&gt;)&lt;/span&gt; nvidia-libgl

Introduzca un número &lt;span class="o"&gt;(&lt;/span&gt;por omisión&lt;span class="o"&gt;=&lt;/span&gt;1&lt;span class="o"&gt;)&lt;/span&gt;:
:: Existen &lt;span class="m"&gt;2&lt;/span&gt; proveedores disponibles para xf86-input-driver:
:: Repositorio extra
   1&lt;span class="o"&gt;)&lt;/span&gt; xf86-input-evdev  2&lt;span class="o"&gt;)&lt;/span&gt; xf86-input-libinput

Introduzca un número &lt;span class="o"&gt;(&lt;/span&gt;por omisión&lt;span class="o"&gt;=&lt;/span&gt;1&lt;span class="o"&gt;)&lt;/span&gt;:
buscando conflictos entre paquetes…
advertencia: bucle de dependencias detectado:
advertencia: harfbuzz será instalado antes que su dependencia freetype2

Paquetes &lt;span class="o"&gt;(&lt;/span&gt;62&lt;span class="o"&gt;)&lt;/span&gt; damageproto-1.2.1-3  elfutils-0.166-1  fixesproto-5.0-3  fontconfig-2.12.0-1  fontsproto-2.1.3-1  freetype2-2.6.3-1
              graphite-1:1.3.8-1  harfbuzz-1.2.7-1  inputproto-2.3.2-1  kbproto-1.0.7-1  libdrm-2.4.68-1  libepoxy-1.3.1-1
              libevdev-1.5.2-1  libfontenc-1.1.3-1  libomxil-bellagio-0.9.3-1  libpciaccess-0.13.4-1  libpng-1.6.23-1
              libtxc_dxtn-1.0.1-6  libunwind-1.1-3  libx11-1.6.3-1  libxau-1.0.8-2  libxcb-1.12-1  libxdamage-1.1.4-2
              libxdmcp-1.1.2-1  libxext-1.3.3-1  libxfixes-5.0.2-1  libxfont-1.5.1-1  libxi-1.7.6-1  libxkbfile-1.0.9-1
              libxml2-2.9.4+0+gbdec218-2  libxshmfence-1.2-1  libxtst-1.2.2-1  libxxf86vm-1.1.4-1  llvm-libs-3.8.0-1
              mesa-11.2.2-1  mesa-libgl-11.2.2-1  mtdev-1.1.5-1  pixman-0.34.0-1  recordproto-1.14.2-2  wayland-1.11.0-1
              xcb-proto-1.12-2  xextproto-7.3.0-1  xf86-input-evdev-2.10.3-1  xf86vidmodeproto-2.3.1-3  xkeyboard-config-2.18-1
              xorg-bdftopcf-1.0.5-1  xorg-font-util-1.3.1-1  xorg-font-utils-7.6-4  xorg-fonts-alias-1.0.3-1
              xorg-fonts-encodings-1.0.4-4  xorg-fonts-misc-1.0.3-4  xorg-mkfontdir-1.0.7-2  xorg-mkfontscale-1.1.2-1
              xorg-server-common-1.18.3-2  xorg-setxkbmap-1.3.1-1  xorg-xkbcomp-1.3.1-1  xproto-7.0.29-1
              xf86-input-keyboard-1.8.1-2  xf86-input-mouse-1.9.1-2  xf86-input-synaptics-1.8.99.1-1  xf86-video-vesa-2.3.4-2
              xorg-server-1.18.3-2

Tamaño total de la descarga:     37,78 MiB
Tamaño total de la instalación:  150,38 MiB

:: ¿Continuar con la instalación? &lt;span class="o"&gt;[&lt;/span&gt;S/n&lt;span class="o"&gt;]&lt;/span&gt; s
...
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Una vez tenemos el servidor gráfico, el siguiente paso es el escritorio que elijamos. Tras buscar el &lt;a href="https://www.archlinux.org/groups/"&gt;el índice de grupos&lt;/a&gt;, me decanté por &lt;strong&gt;XFCE&lt;/strong&gt;, aunque hay para todos los gustos.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# pacman -S xfce4 xfce4-goodies&lt;/span&gt;
...
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Si lo queréis un poco mas &lt;em&gt;minimal&lt;/em&gt;, solo haría falta el paquete &lt;strong&gt;xfce4&lt;/strong&gt;. Para ser breves, me limito a este solamente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# pacman -S xfce4&lt;/span&gt;
:: Hay &lt;span class="m"&gt;17&lt;/span&gt; miembros en el grupo xfce4:
:: Repositorio extra
   1&lt;span class="o"&gt;)&lt;/span&gt; exo  2&lt;span class="o"&gt;)&lt;/span&gt; garcon  3&lt;span class="o"&gt;)&lt;/span&gt; gtk-xfce-engine  4&lt;span class="o"&gt;)&lt;/span&gt; thunar  5&lt;span class="o"&gt;)&lt;/span&gt; thunar-volman  6&lt;span class="o"&gt;)&lt;/span&gt; tumbler  7&lt;span class="o"&gt;)&lt;/span&gt; xfce4-appfinder  8&lt;span class="o"&gt;)&lt;/span&gt; xfce4-mixer
   9&lt;span class="o"&gt;)&lt;/span&gt; xfce4-panel  10&lt;span class="o"&gt;)&lt;/span&gt; xfce4-power-manager  11&lt;span class="o"&gt;)&lt;/span&gt; xfce4-session  12&lt;span class="o"&gt;)&lt;/span&gt; xfce4-settings  13&lt;span class="o"&gt;)&lt;/span&gt; xfce4-terminal  14&lt;span class="o"&gt;)&lt;/span&gt; xfconf  15&lt;span class="o"&gt;)&lt;/span&gt; xfdesktop
   16&lt;span class="o"&gt;)&lt;/span&gt; xfwm4  17&lt;span class="o"&gt;)&lt;/span&gt; xfwm4-themes

Introduzca una selección &lt;span class="o"&gt;(&lt;/span&gt;por omisión&lt;span class="o"&gt;=&lt;/span&gt;todos&lt;span class="o"&gt;)&lt;/span&gt;:
resolviendo dependencias…
buscando conflictos entre paquetes…

Paquetes &lt;span class="o"&gt;(&lt;/span&gt;113&lt;span class="o"&gt;)&lt;/span&gt; adwaita-icon-theme-3.20-2  alsa-lib-1.1.1-1  at-spi2-atk-2.20.1-2  at-spi2-core-2.20.2-1  atk-2.20.0-1
               avahi-0.6.32-2  cairo-1.14.6-1  cantarell-fonts-1:0.0.24-1  cdparanoia-10.2-5  colord-1.3.2-2
               compositeproto-0.4.2-3  dbus-glib-0.106-1  dconf-0.26.0-1  desktop-file-utils-0.22-2  gdk-pixbuf2-2.34.0-2
               glib-networking-2.48.2-1  gnome-icon-theme-3.12.0-3  gnome-icon-theme-symbolic-3.12.0-4
               gnome-themes-standard-3.20.2-1  gsettings-desktop-schemas-3.21.2-1  gstreamer0.10-0.10.36-4
               gstreamer0.10-base-0.10.36-3  gstreamer0.10-base-plugins-0.10.36-3  gtk-update-icon-cache-3.20.6-1  gtk2-2.24.30-2
               gtk3-3.20.6-1  hicolor-icon-theme-0.15-1  iso-codes-3.68-1  jasper-1.900.1-15  js17-17.0.0-3  json-glib-1.2.0-1
               lcms2-2.7-1  libcroco-0.6.11-1  libcups-2.1.4-1  libdaemon-0.14-3  libdatrie-0.2.10-1  libexif-0.6.21-2
               libgudev-230-1  libgusb-0.2.9-1  libice-1.0.9-1  libimobiledevice-1.2.0-3  libjpeg-turbo-1.5.0-1
               libkeybinder2-0.3.0-2  libnotify-0.7.6-2  libogg-1.3.2-1  libplist-1.12-4  libproxy-0.4.12-2  librsvg-2:2.40.16-1
               libsm-1.2.2-2  libsoup-2.54.1-1  libthai-0.1.24-1  libtheora-1.1.1-3  libtiff-4.0.6-2  libunique-1.1.6-6
               libusbmuxd-1.0.10-1  libvisual-0.4.0-6  libvorbis-1.3.5-1  libwnck-2.31.0-1  libxcomposite-0.4.4-2
               libxcursor-1.1.14-2  libxfce4ui-4.12.1-2  libxfce4util-4.12.1-1  libxft-2.3.2-1  libxinerama-1.1.3-2
               libxkbcommon-0.6.1-1  libxklavier-5.4-1  libxmu-1.1.2-1  libxrandr-1.5.0-1  libxrender-0.9.9-1  libxres-1.0.7-1
               libxt-1.1.5-1  libxv-1.0.10-1  nspr-4.12-1  orc-0.4.25-2  pango-1.40.1-1  perl-uri-1.71-1  polkit-0.113-4
               polkit-gnome-0.105-3  randrproto-1.5.0-1  renderproto-0.11.1-3  rest-0.8.0-1  shared-mime-info-1.6-2
               startup-notification-0.12-4  ttf-dejavu-2.35-1  upower-0.99.4-2  videoproto-2.3.3-1  vte-0.28.2-7
               vte-common-0.44.2-1  wayland-protocols-1.4-1  xcb-util-0.4.0-1  xineramaproto-1.2.1-3  xorg-iceauth-1.0.7-1
               xorg-xauth-1.0.9-1  xorg-xinit-1.3.4-4  xorg-xmodmap-1.0.9-1  xorg-xrdb-1.1.0-2  exo-0.10.7-2  garcon-0.4.0-1
               gtk-xfce-engine-2.10.1-1  thunar-1.6.10-3  thunar-volman-0.8.1-2  tumbler-0.1.31-1  xfce4-appfinder-4.12.0-4
               xfce4-mixer-4.11.0-3  xfce4-panel-4.12.0-2  xfce4-power-manager-1.4.4-2  xfce4-session-4.12.1-4
               xfce4-settings-4.12.0-4  xfce4-terminal-0.6.3-3  xfconf-4.12.0-4  xfdesktop-4.12.3-2  xfwm4-4.12.3-2
               xfwm4-themes-4.10.0-2

Tamaño total de la descarga:     65,79 MiB
Tamaño total de la instalación:  298,53 MiB

:: ¿Continuar con la instalación? &lt;span class="o"&gt;[&lt;/span&gt;S/n&lt;span class="o"&gt;]&lt;/span&gt; s
...
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Como pequeño inconveniente ante otras distribuciones, como &lt;strong&gt;Debian&lt;/strong&gt;, los paquetes no tienen tantas dependencias, dejando al usuario elegir lo que pone o no.&lt;/p&gt;
&lt;p&gt;Como requisito para tener algunas de las funcionalidades del escritorio, por ejemplo la papelera, es necesario instalar otros paquetes. En el caso concreto de la papelera, se necesita el paquete &lt;strong&gt;gvfs&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# pacman -S gvfs&lt;/span&gt;
resolviendo dependencias…
buscando conflictos entre paquetes…

Paquetes &lt;span class="o"&gt;(&lt;/span&gt;10&lt;span class="o"&gt;)&lt;/span&gt; fuse-2.9.6-1  gcr-3.20.0-1  libatasmart-0.19-3  libbluray-0.9.2-2  libcddb-1.3.2-4  libcdio-0.93-3
              libcdio-paranoia-10.2+0.93+1-2  libsecret-0.18.5-1  udisks2-2.1.7-1  gvfs-1.28.2-1

Tamaño total de la descarga:     3,84 MiB
Tamaño total de la instalación:  23,45 MiB

:: ¿Continuar con la instalación? &lt;span class="o"&gt;[&lt;/span&gt;S/n&lt;span class="o"&gt;]&lt;/span&gt; s
...
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;El siguiente paso es el gestor de entrada. Podemos entrar mediante un &lt;em&gt;login&lt;/em&gt; texto, y escalar a gráficos con &lt;em&gt;startx&lt;/em&gt;, pero es mas bonito y cómodo usar un gestor gráfico como &lt;strong&gt;lightdm&lt;/strong&gt;. En caso de &lt;strong&gt;Archlinux&lt;/strong&gt;, no depende de ninguna librería gráfica, y hay que decidirlo por nosotros mismos. Puesto que &lt;strong&gt;XFCE&lt;/strong&gt; usa las librerías &lt;strong&gt;GTK&lt;/strong&gt;, vamos a aprovecharnos de ello.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# pacman -S lightdm lightdm-gtk-greeter&lt;/span&gt;
resolviendo dependencias…
buscando conflictos entre paquetes…

Paquetes &lt;span class="o"&gt;(&lt;/span&gt;2&lt;span class="o"&gt;)&lt;/span&gt; lightdm-1:1.18.1-2  lightdm-gtk-greeter-1:2.0.1-3

Tamaño total de la descarga:    0,27 MiB
Tamaño total de la instalación:  2,68 MiB

:: ¿Continuar con la instalación? &lt;span class="o"&gt;[&lt;/span&gt;S/n&lt;span class="o"&gt;]&lt;/span&gt; s
...
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Activamos el &lt;em&gt;login manager&lt;/em&gt; para que salte automáticamente en cada &lt;em&gt;boot&lt;/em&gt; de nuestro sistema, usando &lt;strong&gt;systemd&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# systemctl enable lightdm&lt;/span&gt;
Created symlink /etc/systemd/system/display-manager.service → /usr/lib/systemd/system/lightdm.service.
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Y ya como detalles opcionales, vamos a habilitar el sonido y un gestor de redes, que nos van a hacer la vida mas fácil.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# pacman -S wicd wicd-gtk alsa-utils&lt;/span&gt;
resolviendo dependencias…
buscando conflictos entre paquetes…

Paquetes &lt;span class="o"&gt;(&lt;/span&gt;22&lt;span class="o"&gt;)&lt;/span&gt; ethtool-1:4.5-1  fftw-3.3.4-2  flac-1.3.1-3  libglade-2.6.4-5  libnl-3.2.27-1  libsamplerate-0.1.8-3
              libsndfile-1.0.26-1  net-tools-1.60.20130531git-1  pygobject2-devel-2.28.6-12  pygtk-2.24.0-6
              python-dbus-common-1.2.4-1  python2-2.7.11-3  python2-cairo-1.10.0-2  python2-dbus-1.2.4-1
              python2-gobject2-2.28.6-12  python2-urwid-1.3.1-2  rfkill-0.5-1  wireless_tools-30.pre9-1  wpa_supplicant-1:2.5-3
              alsa-utils-1.1.1-1  wicd-1.7.4-1  wicd-gtk-1.7.4-1

Tamaño total de la descarga:     19,58 MiB
Tamaño total de la instalación:  110,79 MiB

:: ¿Continuar con la instalación? &lt;span class="o"&gt;[&lt;/span&gt;S/n&lt;span class="o"&gt;]&lt;/span&gt; s
...
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;El paquete &lt;strong&gt;wicd&lt;/strong&gt; usa un frontal para el escritorio, pero todas las operaciones delicadas se delegan a un &lt;em&gt;daemon&lt;/em&gt; que funciona en segundo plano. De forma similar a &lt;strong&gt;Redhat&lt;/strong&gt;, los servicios no se instalan preparados para arrancar, y hay que activarlos manualmente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# systemctl enable wicd&lt;/span&gt;
Created symlink /etc/systemd/system/dbus-org.wicd.daemon.service → /usr/lib/systemd/system/wicd.service.
Created symlink /etc/systemd/system/multi-user.target.wants/wicd.service → /usr/lib/systemd/system/wicd.service.
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;El subsistema de sonido funciona solo, salvo por el hecho de que hay que inicializar el dispositivo, y guardar los niveles de audio, para que se puedan restablecer tras cada &lt;em&gt;reboot&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# alsactl init&lt;/span&gt;
alsactl: sysfs_init:48: sysfs path &lt;span class="s1"&gt;&amp;#39;/sys&amp;#39;&lt;/span&gt; is invalid

Found hardware: &lt;span class="s2"&gt;&amp;quot;ICH&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Analog Devices AD1980&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;AC97a:41445370&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;0x1028&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;0x0177&amp;quot;&lt;/span&gt;
Hardware is initialized using a generic method
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# alsactl store&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Como paso final, vamos a necesitar un usuario con el que trabajar habitualmente, sin privilegios y sin la capacidad de romper nada.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# useradd -m gerard&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# passwd gerard&lt;/span&gt;
Introduzca la nueva contraseña de UNIX:
Vuelva a escribir la nueva contraseña de UNIX:
passwd: contraseña actualizada correctamente
&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Finalmente podemos reiniciar la máquina, y ver como nos queda de bonito.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# reboot&lt;/span&gt;
...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Si todo ha salido bien, nos queda un escritorio de esta apariencia, que tendremos que personalizar a nuestro gusto.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Escritorio XFCE" src="http://www.linuxsysadmin.tk/images/escritorio-xfce-archlinux.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;Y todo esto, con un consumo de recursos bastante escaso...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;gerard@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;$ free -m
              total        used        free      shared  buff/cache   
available
Mem:            &lt;span class="m"&gt;498&lt;/span&gt;          &lt;span class="m"&gt;97&lt;/span&gt;         &lt;span class="m"&gt;310&lt;/span&gt;           &lt;span class="m"&gt;1&lt;/span&gt;          &lt;span class="m"&gt;89&lt;/span&gt;         
379
Swap:           &lt;span class="m"&gt;522&lt;/span&gt;           &lt;span class="m"&gt;0&lt;/span&gt;         522
&lt;span class="o"&gt;[&lt;/span&gt;gerard@archlinux ~&lt;span class="o"&gt;]&lt;/span&gt;$ 
&lt;/pre&gt;&lt;/div&gt;</summary><category term="linux"></category><category term="archlinux"></category><category term="escritorio"></category><category term="xfce"></category></entry><entry><title>Un escritorio mínimo con Debian</title><link href="http://www.linuxsysadmin.tk/2016/04/un-escritorio-minimo-con-debian.html" rel="alternate"></link><published>2016-04-25T08:00:00+02:00</published><author><name>Gerard</name></author><id>tag:www.linuxsysadmin.tk,2016-04-25:2016/04/un-escritorio-minimo-con-debian.html</id><summary type="html">&lt;p&gt;Harto de distribuciones para escritorio cargados con aplicaciones que no se usan, decidí que esta vez iba a instalar un escritorio de trabajo partiendo de una &lt;em&gt;Debian netinstall&lt;/em&gt;. El resto va a ser instalar las aplicaciones justas y necesarias para nuestro trabajo diario. En este artículo describo como lo hice.&lt;/p&gt;
&lt;p&gt;Este tutorial se asume que ya tenemos la distribución instalada de una forma mínima, sin nada que sea innecesario. Vamos a instalar los paquetes que se necesiten para nuestro escritorio.&lt;/p&gt;
&lt;p&gt;Para practicar la instalación y probar variaciones, es recomendable hacerlo en una máquina virtual, por ejemplo, usando &lt;strong&gt;VirtualBox&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;En cuanto a los requisitos, vamos a partir de una distribución &lt;em&gt;Debian Jessie&lt;/em&gt; normal, con una cantidad de memoria tirando a poca, y con un disco también bastante escaso. El resultado es bastante ligero.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# cat /etc/debian_version
8.4
root@kobayashi-maru:~# free -m
             total       used       free     shared    buffers     cached
Mem:           &lt;span class="m"&gt;500&lt;/span&gt;         &lt;span class="m"&gt;65&lt;/span&gt;        &lt;span class="m"&gt;435&lt;/span&gt;          &lt;span class="m"&gt;4&lt;/span&gt;          &lt;span class="m"&gt;6&lt;/span&gt;         34
-/+ buffers/cache:         &lt;span class="m"&gt;23&lt;/span&gt;        476
Swap:            &lt;span class="m"&gt;0&lt;/span&gt;          &lt;span class="m"&gt;0&lt;/span&gt;          0
root@kobayashi-maru:~# df -h
S.ficheros     Tamaño Usados  Disp Uso% Montado en
/dev/sda1        4,0G   600M  3,2G  16% /
udev              10M      &lt;span class="m"&gt;0&lt;/span&gt;   10M   0% /dev
tmpfs            101M   4,4M   96M   5% /run
tmpfs            251M      &lt;span class="m"&gt;0&lt;/span&gt;  251M   0% /dev/shm
tmpfs            5,0M      &lt;span class="m"&gt;0&lt;/span&gt;  5,0M   0% /run/lock
tmpfs            251M      &lt;span class="m"&gt;0&lt;/span&gt;  251M   0% /sys/fs/cgroup
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Las buenas prácticas requieren separar algunas de las carpetas en particiones distintas, de forma que el disco raíz no se llene por el uso diario de los usuarios. Especialmente se recomienda asignar una partición o disco para la carpeta &lt;em&gt;/home/&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;El sistema de ventanas&lt;/h2&gt;
&lt;p&gt;Como primer paso, necesitamos el servidor de ventanas, que se encarga de mediar entre los &lt;em&gt;drivers&lt;/em&gt; y las aplicaciones. En la distribución utilizada, se utiliza &lt;strong&gt;xorg&lt;/strong&gt; para esta función.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install xorg
...
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Esto nos va a instalar el servidor, y gracias al sistema de dependencias de &lt;em&gt;Debian&lt;/em&gt;, todos los drivers de entrada y de vídeo; esto añade muchos paquetes que seguramente no usaremos jamás, que necesitan irse actualizando y ocupan espacio en disco. En caso de querer reducir la cantidad de drivers instalados, y sabiendo los que necesitamos, podemos instalar los necesarios solamente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install xserver-xorg xserver-xorg-input-kbd xserver-xorg-input-mouse xserver-xorg-video-vesa
...
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En este caso, yo opté por este sistema, instalando el &lt;em&gt;driver&lt;/em&gt; de vídeo &lt;em&gt;vesa&lt;/em&gt;, que es el que funciona con &lt;strong&gt;VirtualBox&lt;/strong&gt; (este &lt;em&gt;driver&lt;/em&gt; funciona siempre). En el caso de mi ordenador, puse el &lt;em&gt;driver&lt;/em&gt; de vídeo &lt;em&gt;intel&lt;/em&gt; (que es la tarjeta gráfica que tengo) y añadí el &lt;em&gt;driver&lt;/em&gt; de entrada &lt;em&gt;synaptics&lt;/em&gt; (que gestiona el &lt;em&gt;touchpad&lt;/em&gt;).&lt;/p&gt;
&lt;h2&gt;El entorno de escritorio&lt;/h2&gt;
&lt;p&gt;En este apartado tenemos muchas posibilidades; el ecosistema de entornos de escritorio es grande, pudiendo elegir entre &lt;em&gt;GNOME&lt;/em&gt;, &lt;em&gt;KDE&lt;/em&gt;, &lt;em&gt;XFCE&lt;/em&gt;, &lt;em&gt;LXDE&lt;/em&gt; y otros tantos.&lt;/p&gt;
&lt;p&gt;Un entorno de escritorio que me gusta por su simplicidad es &lt;em&gt;LXDE&lt;/em&gt;, que se puede instalar con el paquete &lt;strong&gt;lxde&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install lxde
...
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;En caso de no necesitar todos los paquetes, es posible instalar un conjunto menor de paquetes. Una selección bastante completa podría ser la siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install lxde-core lxappearance lxterminal lxtask
...
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Sin embargo, este entorno de escritorio está muy limitado en cuando a herramientas de configuración, y yo preferí instalar &lt;em&gt;XFCE&lt;/em&gt;, que conseguí con los paquetes &lt;strong&gt;xfce4&lt;/strong&gt; y &lt;strong&gt;xfce4-goodies&lt;/strong&gt; (opcional; incluye algunos &lt;em&gt;plugins&lt;/em&gt; y aplicaciones extras).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install xfce4 xfce4-goodies
...
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Cargar el modo gráfico&lt;/h2&gt;
&lt;p&gt;El primer método consiste en trabajar en modo terminal, levantando manualmente el entorno gráfico invocando el comando &lt;strong&gt;startx&lt;/strong&gt;, que se encuentra en el paquete &lt;strong&gt;xinit&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install xinit
...
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Esto no es cómodo para el usuario corriente; lo normal es tener una pantalla de &lt;em&gt;login&lt;/em&gt; para entrar en la sesión de escritorio. Nuevamente hay muchas alternativas, pero en nuestro caso hemos optado por poner el paquete &lt;strong&gt;lightdm&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install lightdm
...
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Otras utilidades&lt;/h2&gt;
&lt;p&gt;Dependiendo del uso que vayamos a hacer, es interesante que nuestro ordenador pueda reproducir sonidos y tenga un gestor de redes, tanto cableadas como &lt;em&gt;wifi&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;El primero consiste en usar &lt;em&gt;ALSA&lt;/em&gt;, y detectar la configuración de nuestro sonido, guardando dicha configuración para futuros reinicios de la máquina.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install alsa-utils
...
root@kobayashi-maru:~# alsactl init
Found hardware: &lt;span class="s2"&gt;&amp;quot;ICH&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;SigmaTel STAC9700,83,84&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;AC97a:83847600&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;0x8086&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;0x0000&amp;quot;&lt;/span&gt;
Hardware is initialized using a generic method
root@kobayashi-maru:~# alsactl store
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Para la parte del gestor de redes, hay nuevamente debate. Uno que me gusta y que cumple bien con su función es &lt;strong&gt;wicd&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install wicd
...
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Las aplicaciones&lt;/h2&gt;
&lt;p&gt;Las aplicaciones a instalar son un tema muy personal; cada usuario va a necesitar unos tipos de aplicaciones u otras. Incluso así, de las aplicaciones de un tipo dado, pueden haber diversas opciones.&lt;/p&gt;
&lt;p&gt;Estas aplicaciones se pueden ir instalando a &lt;em&gt;posteriori&lt;/em&gt;, tal como se vayan necesitando. Sin embargo, podemos poner aquellas que se van a usar seguro, como un navegador web, por ejemplo &lt;em&gt;Chromium&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install chromium
...
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Y para los fans de &lt;em&gt;Firefox&lt;/em&gt;, también hay su alternativa:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get install iceweasel
...
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Y finalmente, la magia&lt;/h2&gt;
&lt;p&gt;Podemos limpiar los paquetes descargados e instalados, mediante un &lt;em&gt;clean&lt;/em&gt; simple de &lt;strong&gt;apt-get&lt;/strong&gt;. Esto liberará algunos &lt;em&gt;megas&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# apt-get clean
root@kobayashi-maru:~#
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Rebotamos nuestro ordenador, y dejamos que lo instalado tome el control del &lt;em&gt;boot&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@kobayashi-maru:~# reboot
...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Iremos a parar a la pantalla de &lt;em&gt;login&lt;/em&gt;, y con un usuario adecuado deberíamos ver nuestro escritorio, tal como se muestra.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Escritorio XFCE" src="http://www.linuxsysadmin.tk/images/escritorio-xfce.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;Ahora es tarea del usuario tunear el escritorio a su gusto, con paneles, &lt;em&gt;plugins&lt;/em&gt; y &lt;em&gt;wallpapers&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Un apunte sobre los recursos&lt;/h2&gt;
&lt;p&gt;Tras instalar todos los componentes, vemos que los recursos apenas han subido; lo que nos da una idea del tipo de &lt;em&gt;hardware&lt;/em&gt; que podemos usar.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gerard@kobayashi-maru:~$ df -h
S.ficheros     Tamaño Usados  Disp Uso% Montado en
/dev/sda1        4,0G   1,4G  2,5G  36% /
udev              10M      &lt;span class="m"&gt;0&lt;/span&gt;   10M   0% /dev
tmpfs            101M   4,4M   96M   5% /run
tmpfs            251M      &lt;span class="m"&gt;0&lt;/span&gt;  251M   0% /dev/shm
tmpfs            5,0M   4,0K  5,0M   1% /run/lock
tmpfs            251M      &lt;span class="m"&gt;0&lt;/span&gt;  251M   0% /sys/fs/cgroup
tmpfs             51M   4,0K   51M   1% /run/user/110
tmpfs             51M   4,0K   51M   1% /run/user/1000
gerard@kobayashi-maru:~$ free -m
             total       used       free     shared    buffers     cached
Mem:           &lt;span class="m"&gt;500&lt;/span&gt;        &lt;span class="m"&gt;238&lt;/span&gt;        &lt;span class="m"&gt;262&lt;/span&gt;          &lt;span class="m"&gt;5&lt;/span&gt;         &lt;span class="m"&gt;15&lt;/span&gt;        125
-/+ buffers/cache:         &lt;span class="m"&gt;96&lt;/span&gt;        404
Swap:            &lt;span class="m"&gt;0&lt;/span&gt;          &lt;span class="m"&gt;0&lt;/span&gt;          0
gerard@kobayashi-maru:~$
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;El disco ha aumentado en unos 900 mb y la memoria ha pasado de 23 a 96 mb, sin tener ninguna aplicación abierta.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;CUIDADO&lt;/strong&gt;: Algunas aplicaciones necesitan mucho disco y también memoria. Depende de lo que se ponga, podemos pasar de unos requerimientos &lt;em&gt;hardware&lt;/em&gt; austeros, a una máquina que dejaría de juguete a un supercomputador...&lt;/p&gt;
&lt;p&gt;Para el uso que doy de mi &lt;em&gt;netbook&lt;/em&gt; (navegar, redacción de artículos, programación de &lt;em&gt;scripts&lt;/em&gt; y alguna sesión de &lt;em&gt;SSH&lt;/em&gt;), los 2gb de memoria me sobran; con 128 mb tendría suficiente.&lt;/p&gt;</summary><category term="linux"></category><category term="debian"></category><category term="jessie"></category><category term="escritorio"></category><category term="xfce"></category></entry></feed>